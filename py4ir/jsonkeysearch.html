<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
  <meta property='og:type' content='website'>
  <meta property='og:title' content='python for  institutional research'>
  <meta property='og:url' content='URLãŒå…¥ã‚‹'>
  <meta property='og:description' content='powered by gmoriki'>
  <meta property="og:image" content="img/ogp.png">
  <meta name="description" content="powered by gmoriki" />
  <title>gmoriki</title>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
  <link href="css/ress.css" media="all" rel="stylesheet" type="text/css" />
  <link href="css/style.css" media="all" rel="stylesheet" type="text/css" />
  <link rel="shortcut icon" href="img/fabicon.svg" />
  <link rel=â€canonicalâ€ href=â€URLãŒå…¥ã‚‹â€ />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/monokai.min.css">
</head>

<body>
  <div class="wrapper">

    <!-- header -->
    <header class="header ">
      <div class="container">
        <h1 class="header-logo">
          <a href=".">Python for IRğŸ³</a>
          /jsonkeyresearch
        </h1>
        <nav class="gnav">
          <ul class="gnav-list">
            <li class="gnav-item"><a href=".#works">WORKS</a></li>
            <li class="gnav-item"><a href="./#about">ABOUT</a></li>
            <li class="gnav-item"><a href="./#contact">CONTACT</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <!-- /header -->

    <main class="content">

      <article class="article">
        <div class="article-container">
          <h2 class="article-title">JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ˜ç¤ºçš„ã«æ¢ç´¢ã™ã‚‹</h2>
          <div class="article-body">
            <p>
              <img src="img/cat.svg" alt="" width="300" height="200" style="display: block; margin: auto;">
            </p>
            <p>
              JSONè§£æã€ã‚¨ã‚¤ãƒ¤ã§ã‚¹ã‚¯ãƒ©ãƒƒãƒã—ãŒã¡ãªã®ã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã—ã¾ã—ãŸ
            </p>
            <h3>åˆ©ç”¨ã‚·ãƒ¼ãƒ³ã¨ç›®çš„</h3>
            <p>JSONå½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯IRæ¥­å‹™ã®ä¸­ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹ã€‚ScivalAPIç­‰ã®å„ç¨®WebAPIã‹ã‚‰å–å¾—ã§ãã‚‹ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®å¤šãã¯JSONãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹ã€‚ã—ã‹ã—APIã§å–å¾—ã—ãŸJSONã®éšå±¤æ•°ã‚„ã‚­ãƒ¼ã®ç¨®é¡ã¯APIã«ã‚ˆã£ã¦æ§˜ã€…ã§ã€å¤šãã®å ´åˆå…¥ã‚Œå­æ§‹é€ ã«ãªã£ã¦ã„ã‚‹ã€‚<br>
            ä»¥ä¸‹ã¯ScivalAPIã‹ã‚‰å–å¾—ã—ãŸJSONã®ä¾‹ã§ã‚ã‚‹ã€‚<br></p>
            <pre><code class='python'>
jsonfilename = {
    "dataSource": {"sourceName": "Scopus", "lastUpdated": "2099-02-08", "metricStartYear": 2000, "metricEndYear": 2999},
    "results": [
        {
            "metrics": [
                {"metricType": "ScholarlyOutput", "value": 1160},
                {"metricType": "CitationCount", "value": 20969},
                {"metricType": "CitationsPerPublication", "value": 18.076725},
                {"metricType": "FieldWeightedCitationImpact", "value": 1.2139008},
                {
                    "metricType": "OutputsInTopCitationPercentiles",
                    "values": [
                        {"threshold": 1, "value": 29, "percentage": 2.5},
                        {"threshold": 5, "value": 69, "percentage": 5.9482756},
                        {"threshold": 10, "value": 107, "percentage": 9.224137},
                        {"threshold": 25, "value": 282, "percentage": 24.310345},
                    ],
                },
                {
                    "metricType": "PublicationsInTopJournalPercentiles",
                    "impactType": "CiteScore",
                    "values": [
                        {"threshold": 1, "value": 28, "percentage": 2.5547445},
                        {"threshold": 5, "value": 194, "percentage": 17.70073},
                        {"threshold": 10, "value": 934, "percentage": 85.21898},
                        {"threshold": 25, "value": 1075, "percentage": 98.08395},
                    ],
                },
            ],
            "institution": {
                "link": {"@ref": "self", "@href": "https:hogehoge", "@type": "application/json"},
                "name": "piyo University",
                "id": 'XXX',
                "uri": "Institution/XXX",
                "country": "hoge",
                "countryCode": "hoge",
            },
        }
    ],
}
            </code></pre>
            <p>ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰<code>'ScholarlyOutput'</code>ã®è¦ç´ ã«å«ã¾ã‚Œã‚‹å€¤ã€ä¾‹ãˆã°<code>'value'</code>ã‚’å–å¾—ã—ãŸã„ã€‚åœ°é“ã«ãƒ‘ãƒ¼ã‚¹ã—ã¦å–å¾—ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã ãŒã€å¾Œã‹ã‚‰è¦‹ã¦ä½•ãŒä½•ã ã‹ã‚ã‹ã‚‰ã‚“ã€‚</p>
            <pre><code class='python'>
  metric = jsonfilename["results"][0]["metrics"][0] # what's this?
  print(metric)
  # {'metricType': 'ScholarlyOutput', 'value': 1160}
            </code></pre>
            <p>å¯èª­æ€§ã®ä½ã•ã¨æ±ç”¨æ€§ã®ä½ã•ãŒéš›ç«‹ã¤ã€‚APIã®å¤‰æ›´ã«ä¼´ã†ã‚³ãƒ¼ãƒ‰ã®ä¿®æ­£ã¯å¿…è‡³ã€‚ä½•ã‚ˆã‚Šã€JSONã‚’æ‰±ã†ãŸã³ã«ä¼¼ãŸã‚ˆã†ãªè§£æãƒ»å®Ÿè£…ã‚’ç¹°ã‚Šè¿”ã—ã¦ã„ã‚‹ã“ã¨ãŒç„¡é§„ãªåŠ´åŠ›ã®ã‚ˆã†ã«æ„Ÿã˜ã‚‹ã€‚</p>
            <p>ã“ã†ã—ãŸèª²é¡Œæ„è­˜ã‹ã‚‰ã€ã€ŒJSONãƒ•ã‚¡ã‚¤ãƒ«ã®ã©ã“ã‚’ã©ã®ã‚ˆã†ã«æ¢ã—ã¦å¾—ãŸçµæœãªã®ã‹ã€ã¨ã„ã†ãƒ—ãƒ­ã‚»ã‚¹ã¨çµæœãŒæ˜ç¢ºãªJSONæ¢ç´¢ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œæˆã—ãŸã€‚</p>
            <h3>å®Ÿè£…ã®è€ƒãˆæ–¹</h3>
            <p>JSONã®è¾æ›¸è¦ç´ ã‚’å†å¸°çš„ã«å–å¾—ã—ã¦ã€ã‚ã‚‹æ¡ä»¶ã‚’æº€ãŸã™å ´åˆã«è¿”ã‚Šå€¤ã«appendã™ã‚Œã°è‰¯ã„ã€‚ãã®éš›ã€ã€Œä½•ã‚’ã©ã†è§£æã—ãŸã€ã¨ã„ã†çµŒç·¯ãŒåˆ†ã‹ã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</p>
            <p>å®Ÿéš›ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒª<code>jsonkeysearch</code>ã‚’ä½œæˆã—ãŸã€‚PyPlã«ç™»éŒ²ã—ã¦ã„ã‚‹ã®ã§æœ€æ–°ç‰ˆã‚’pipã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã€‚conda?ã¡ã‚‡ã£ã¨ä½•è¨€ã£ã¦ã‚‹ã‹åˆ†ã‹ã‚“ãªã„ã§ã™ã­...</p>
            <pre><code>
  pip install jsonkeysearch
            </code></pre>
            <p><code>JSONKeySearch</code>ã‚¯ãƒ©ã‚¹ã«è§£æã—ãŸã„è¾æ›¸å‹JSONã®å¤‰æ•°åã‚’æ¸¡ã—ãŸä¸Šã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã™ã‚‹ã€‚</p>
            <pre><code class='python'>
  from jsonkeysearch import JSONKeySearch
  instance = JSONKeySearch(jsonObject=jsonfilename)
            </code></pre>
            <p>è§£æå¯¾è±¡ã®ã‚­ãƒ¼ãŠã‚ˆã³å€¤ã‚’å¼•æ•°ã¨ã—ã¦ãƒ¡ã‚½ãƒƒãƒ‰searchã«æ¸¡ã—ã¦å®Ÿè¡Œã™ã‚Œã°ã€<code>instance.jsonObject</code>ã«å‡¦ç†çµæœãŒæ ¼ç´ã•ã‚Œã‚‹ã€‚ä¸€å¿œsearchã®è¿”ã‚Šå€¤ã‚‚åŒæ§˜ã®å‡¦ç†çµæœã¨ã—ã¦ã„ã‚‹ã€‚</p>
            <pre><code class='python'>
  instance.search(key=keyhoge,value=valuepiyo)
  print(instance.jsonObject)
  # {'keyhoge': 'valuepiyo', 'value': 1160}
            </code></pre>
            <p>keyhogeã«æ¢ç´¢ã—ãŸã„ã‚­ãƒ¼ã‚’æ¸¡ã—ã€valuepiyoã«ã‚­ãƒ¼ã®å€¤ã‚’æŒ‡å®šã™ã‚‹ã€‚
              valuepiyoã‚’""ã«è¨­å®šã™ã‚Œã°keyhogeã‚’å«ã‚€å…¨ã¦ã®å€¤ã‚’è¿”ã™ã€‚</p>
            <h3>ã‚³ãƒ¼ãƒ‰</h3>
            <p>å†’é ­ã®JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ScholaryOutputã‚’å«ã‚€è¦ç´ ã®ã¿å–å¾—ã—ãŸã„å ´åˆ</p>
            <pre><code class='python'>
  target = JSONKeySearch(jsonObject=jsonfilename)
  target.search(key="metricType", value="ScholarlyOutput"})
  print(target.jsonObject)

  # [{'metricType': 'ScholarlyOutput', 'value': 1160}]
            </code></pre>
            <p>å†’é ­ã®JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰valueã‚’å«ã‚€è¦ç´ ã‚’å…¨ã¦å–å¾—ã—ãŸã„å ´åˆ</p>
            <pre><code class='python'>
  target = JSONKeySearch(jsonObject=jsonfilename)
  target.search(key="value", value="")
  print(target.jsonObject)

  # [{'metricType': 'ScholarlyOutput', 'value': 1160},
  #  {'metricType': 'CitationCount', 'value': 20969},
  #  {'metricType': 'CitationsPerPublication', 'value': 18.076725},
  #  {'metricType': 'FieldWeightedCitationImpact', 'value': 1.2139008},
  #  {'threshold': 1, 'value': 29, 'percentage': 2.5},
  #  {'threshold': 5, 'value': 69, 'percentage': 5.9482756},
  #  {'threshold': 10, 'value': 107, 'percentage': 9.224137},
  #  {'threshold': 25, 'value': 282, 'percentage': 24.310345},
  #  {'threshold': 1, 'value': 28, 'percentage': 2.5547445},
  #  {'threshold': 5, 'value': 194, 'percentage': 17.70073},
  #  {'threshold': 10, 'value': 934, 'percentage': 85.21898},
  #  {'threshold': 25, 'value': 1075, 'percentage': 98.08395}]
            </code></pre>
            <h3>ã¾ã¨ã‚ã¨è£œè¶³</h3>
            <p>JSONè§£æã‚³ãƒ¼ãƒ‰ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¦ã„ã‚‹æ™‚ã€åˆ†ã‹ã‚‰ãªã„ã“ã¨ã‚‚å¤šãWebã®æƒ…å ±ã‚’æ¼ã£ã¦ã„ãŸãŒã€JSONè§£æã®æ‰‹æ³•ã¯ã‚ã‚Œã©æ±ç”¨çš„ãªè§£ææ‰‹æ³•ãŒç´¹ä»‹ã•ã‚Œã¦ã„ãªã‹ã£ãŸã€‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã£ã½ãã™ã‚Œã°ã‚³ãƒ¼ãƒ‰ãŒèª­ã¿ã‚„ã™ããªã‚‹ã—æ©Ÿèƒ½ã®æ”¹ä¿®ã‚‚æ¥½ã ã‹ã‚‰ã€PyPlã¸ã®ç™»éŒ²ã®ç·´ç¿’ã‚‚å…¼ã­ã¦å®Ÿè£…ã—ãŸã€‚</p>
            <p>ãªãŠJSONKeySearchã®ãƒ¡ã‚½ãƒƒãƒ‰find_keyã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã—ãŸå­ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚Œã°ã€ã‚ˆã‚Šè¤‡é›‘ãªæ¡ä»¶ã§æ¢ç´¢ãŒå¯èƒ½ã«ãªã‚‹ã€‚
              JSONKeySearchWithASJCmetricsFiltersã¯ãã®ä¸€ä¾‹ã€‚ASJCã”ã¨ã®è«–æ–‡æŒ‡æ¨™ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«å…¥ã‚Œå­ã‚’æ“ä½œã—ã¦ã„ã‚‹ã€‚</p>
            <h3>å‚è€ƒ</h3>
            <p>ä»¥ä¸‹ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹JSONæ¢ç´¢å†å¸°å‡¦ç†ã‚’å‚è€ƒã«ã—ãŸã€‚Special Thanks!!!</p>
            <a href="https://qiita.com/saka2jp/items/3b138d3ebbdaa873eaa5">https://qiita.com/saka2jp/items/3b138d3ebbdaa873eaa5</a>
          </div>
          <div class="home-link">
            <a href="./#works">Worksä¸€è¦§ã¸</a>
          </div>
        </div>
      </article>

      <div class="page-top" id="js-page-top">
        <span class="material-icons-outlined">expand_less</span>
      </div>
    </main>

    <!-- footer -->
    <footer class="footer">
      <div class="copyright">&copy;gmoriki</div>
    </footer>
    <!-- /footer -->

  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type='text/javascript' src="js/script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</body>

</html>